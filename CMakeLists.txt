cmake_minimum_required(VERSION 3.1)
project(drivers)

set(USE_MPU6050 false)
set(USE_BMP180 false)
set(USE_LCD false)
set(USE_LV53L5CX false)
set(USE_PMW3901 false)
set(USE_GPIO true)

if(CMAKE_COMPILER_IS_GNUCXX OR CMAKE_CXX_COMPILER_ID MATCHES "Clang")
  add_compile_options(-Wall -Wextra -Wpedantic)
endif()

if(USE_MPU6050)
add_subdirectory(mpu6050)
add_executable(mpu6050_sensor ${CMAKE_SOURCE_DIR}/test/mpu6050_sensor.cpp)
target_link_libraries(mpu6050_sensor mpu6050_lib)
endif()

if(USE_BMP180)
add_subdirectory(bmp180)
add_executable(bmp180_sensor ${CMAKE_SOURCE_DIR}/test/bmp180_sensor.cpp)
target_link_libraries(bmp180_sensor bmp180_lib)
endif()

if(USE_LCD)
add_subdirectory(LCD_2x16)
add_executable(lcd_display ${CMAKE_SOURCE_DIR}/test/lcd_display.cpp)
target_link_libraries(lcd_display lcd_lib)
endif()

if(USE_VL53L5CX)
add_subdirectory(vl53l5cx)
add_executable(vl53l5cx_sensor ${CMAKE_SOURCE_DIR}/test/vl53l5cx_sensor.cpp)
target_link_libraries(vl53l5cx_sensor vl53l5cx_lib)
endif()

if(USE_PMW3901)
add_subdirectory(pmw3901)
add_executable(pmw3901_sensor ${CMAKE_SOURCE_DIR}/test/pmw3901_sensor.cpp)
target_link_libraries(pmw3901_sensor pmw3901_lib)
endif()

if(USE_GPIO)
add_subdirectory(GPIO)
add_executable(gpio_control ${CMAKE_SOURCE_DIR}/test/gpio.cpp)
target_link_libraries(gpio_control gpio_lib)
endif()